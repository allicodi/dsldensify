% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{hazards_to_mass_by_obs}
\alias{hazards_to_mass_by_obs}
\title{Convert hazard predictions to bin mass}
\usage{
hazards_to_mass_by_obs(preds, grp, is_last, eps = 1e-15)
}
\arguments{
\item{preds}{Numeric vector or matrix of predicted hazards. Rows correspond
to discrete intervals; columns correspond to different prediction sets.
A vector is treated as a single-column matrix.}

\item{grp}{Integer or factor vector defining observation group membership
for each row of \code{preds}. Rows with the same group are aggregated together.}

\item{is_last}{Logical vector indicating whether a row corresponds to the
terminal interval for its group. Must have length \code{nrow(preds)}.}

\item{eps}{Small positive constant used to floor probabilities before
taking logs, to avoid \code{-Inf}.}
}
\value{
Numeric matrix with one row per unique value of \code{grp} and one column
  per column of \code{preds}, giving the probability mass for each
  observation.
}
\description{
Aggregates predicted hazards across discrete intervals to produce
per-bin probability mass values.
}
