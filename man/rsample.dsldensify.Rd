% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dsldensify.R
\name{rsample.dsldensify}
\alias{rsample.dsldensify}
\title{Sample from a fitted dsldensify conditional density}
\usage{
\method{rsample}{dsldensify}(
  object,
  W,
  n_samp = 1L,
  type = c("full", "cv"),
  fold_id = NULL,
  seed = NULL,
  ...
)
}
\arguments{
\item{object}{A fitted \code{dsldensify} object.}

\item{W}{A data.frame/data.table of covariates at which to sample.}

\item{n_samp}{Integer number of draws per row of \code{W}.}

\item{type}{Character; \code{"full"} uses \code{object$full_fit}.
\code{"cv"} uses fold-specific fits stored in \code{object$cv_fit}.}

\item{fold_id}{Optional integer vector of fold assignments used when
\code{type = "cv"}. Must have length \code{nrow(W)} and take values in
\code{1, ..., V}, where \code{V = length(object$cv_fit)}. Each entry indicates
which fold-specific fit should be used for the corresponding observation.}

\item{seed}{Optional integer seed passed to \code{set.seed()} before sampling.}

\item{...}{Passed through to the underlying runner \code{sample()} method.}
}
\value{
A numeric matrix of dimension \code{nrow(W) x n_samp}.
}
\description{
Draws samples \eqn{A^* \sim \hat f(\cdot \mid W)} from a fitted \code{dsldensify}
object.

For a **hazard-based** winner, this method constructs the required **long**
hazard grid internally (by repeating each row of \code{W} over all bins) using
the chosen grid stored in \code{object}:
\itemize{
  \item \code{object$breaks} and \code{object$bin_length} are used to create
        \code{breaks_full},
  \item \code{bin_id} is \code{1, ..., object$n_bins},
  \item \code{bin_lower} and \code{bin_upper} are attached per \code{bin_id}.
}
It then delegates to the hazard runner's \code{sample()} method, which assumes
\code{K = 1} (selected fit) and samples via bin-mass + within-bin uniform draws.

For a **direct-density** winner (identified by \code{object$grid_type == "direct"}),
this method delegates directly to the runner's \code{sample()} method on wide
\code{W}.
}
